{"version":3,"sources":["menu.js"],"names":["$","Drupal","behaviors","menu","attach","context","settings","expandClass","find","once","each","click","event","target","tagName","stopPropagation","this","hasClass","removeClass","siblings","addClass","hide","localStorage","getItem","setItem","jQuery"],"mappings":"CAOC,SAAUA,GACT,YAEAC,QAAOC,UAAUC,MACfC,OAAQ,SAAUC,EAASC,GACzB,GAAIC,GAAc,qBAElBP,GAAEK,GAASG,KAAK,eAAeC,KAAK,gBAAgBC,KAAK,WACvDV,EAAE,mCAAoCK,GAASM,MAAM,SAAUC,GAChC,OAAzBA,EAAMC,OAAOC,UACfF,EAAMG,kBAEFf,EAAEgB,MAAMC,SAASV,GACnBP,EAAEgB,MAAME,YAAYX,IAGpBP,EAAEgB,MAAMG,WAAWD,YAAYX,GAC/BP,EAAEgB,MAAMI,SAASb,MAKvB,IAAIc,GAAOC,aAAaC,QAAQ,4BAC5BF,IAAgB,aAARA,GAA+B,QAARA,GACjCrB,EAAE,eAAekB,YAAY,oBAG/BlB,EAAE,kBAAkBW,MAAM,WACpBX,EAAE,eAAeiB,SAAS,qBAC5BjB,EAAE,eAAekB,YAAY,oBAC7BI,aAAaE,QAAQ,4BAA6B,UAElDxB,EAAE,eAAeoB,SAAS,oBAC1BE,aAAaE,QAAQ,4BAA6B,iBAO5DC","file":"../menu.js","sourcesContent":["/**\n * @file\n * Open and close hierarchical menus\n *\n * @type {{attach: Drupal.behaviors.menu.attach}}\n */\n\n(function ($) {\n  'use strict';\n\n  Drupal.behaviors.menu = {\n    attach: function (context, settings) {\n      var expandClass = 'menu-item--expanded';\n\n      $(context).find('#book-pages').once('menuAttached').each(function () {\n        $('#book-pages .menu-item--children', context).click(function (event) {\n          if (event.target.tagName === 'LI') {\n            event.stopPropagation();\n\n            if ($(this).hasClass(expandClass)) {\n              $(this).removeClass(expandClass);\n            }\n            else {\n              $(this).siblings().removeClass(expandClass)\n              $(this).addClass(expandClass);\n            }\n          }\n        });\n\n        var hide = localStorage.getItem('atomizer_hide_unpublished');\n        if (hide && hide != 'undefined' && hide == 'TRUE') {\n          $('#book-pages').removeClass('hide-unpublished');\n        }\n\n        $('#book-show-all').click(function() {\n          if ($('#book-pages').hasClass('hide-unpublished')) {\n            $('#book-pages').removeClass('hide-unpublished');\n            localStorage.setItem('atomizer_hide_unpublished', 'TRUE');\n          } else {\n            $('#book-pages').addClass('hide-unpublished');\n            localStorage.setItem('atomizer_hide_unpublished', 'FALSE');\n          }\n        });\n      });\n    }\n  };\n\n}(jQuery));\n\n"]}